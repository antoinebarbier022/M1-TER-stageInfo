<form [formGroup]="userForm" (ngSubmit)="onSubmitForm()">
    <!-- Section information profile-->
    <fieldset>
        <!-- Prénom de l'utilisateur -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserPrenom':'editUserPrenom'">Prénom</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserPrenom':'editUserPrenom'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
                    placeholder="{{ viewUser ? 'undefined' : 'Prénom de l\'utilisateur' }}"
                    name="prenom"
                    [readonly]="viewUser"
                    formControlName="prenom">
        </div>

        <!-- Nom de l'utilisateur -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserNom':'editUserNom'">Nom</label>
            <input  type="text" 
<<<<<<< HEAD
                    [id]="addUser ? 'addUserNom':'editUserNom'" 
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
                    placeholder="Nom de l'utilisateur"
                    [(ngModel)]="user.nom"
                    name="nom"
                    formControlName="nom"
                    [readonly]="viewUser">
        </div>

        <!-- Prénom de l'utilisateur -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserPrenom':'addUserPrenom'">Prénom</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserPrenom':'editUserPrenom'" 
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"  
                    [(ngModel)]="user.prenom"
                    placeholder="Prénom de l'utilisateur" 
                    name="prenom"
                    formControlName="prenom"
                    [readonly]="viewUser">
        </div>

        <!-- Rôle de l'utilisateur -->
        <div class="form-group-row">
            <label for="inputRole">Role</label>
            <div *ngIf="viewUser" class="form-select-plaintext">
                <span class="badge badge-secondary">{{ user.role }}</span>
            </div>    
            <select required 
                    [id]="addUser ? 'addUserInput':'editUserInput'"  
                    *ngIf="!(viewUser)"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
                    [(ngModel)]="user.role"
                    (ngModelChange)="displaySection(user.role)"
=======
                    [id]="addUser ? 'addUserNom':'editUserNom'"  
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
                    placeholder="{{ viewUser ? 'undefined' : 'Nom de l\'utilisateur' }}"
                    name="nom"
                    [readonly]="viewUser"
                    formControlName="nom">
        </div>

        <!-- Rôle de l'utilisateur -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserRole':'editUserRole'">Rôle</label>
            <div *ngIf="viewUser" class="form-select-plaintext">
                <span class="badge badge-secondary">{{ user.role }}</span>
            </div>
            <select [id]="addUser ? 'addUserRole':'editUserRole'"
                    *ngIf="!(viewUser)"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'" 
>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
                    name="role"
                    formControlName="role">
                <option value="" disabled selected>Selectionner un rôle</option>
                <option value="invite">Invité</option>
                <option value="etudiant">Étudiant</option>
                <option value="tuteur">Enseignant (Tuteur)</option>
                <option value="secretaire">Secrétaire</option>
                <option value="representantEntreprise">Représentant Entreprise</option>
                <option value="responsableParcours">Responsable de parcours</option>
                <option value="responsablePedagogique">Responsable pédagogique</option>
                <option value="admin">Admin</option>
            </select>
        </div>

        <!-- Email de l'utilisateur -->
        <div class="form-group-row" *ngIf="!editUser">
            <label [for]="addUser ? 'addUserEmail':'editUserEmail'">Email</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserEmail':'editUserEmail'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
<<<<<<< HEAD
                    [(ngModel)]="user.email"
                    placeholder="Email de l'utilisateur" 
                    name="email"
                    formControlName="email"
                    [readonly]="viewUser">
=======
                    name="email"
                    placeholder="{{ viewUser ? 'undefined' : 'Email de l\'utilisateur' }}"
                    [readonly]="viewUser"
                    formControlName="email">
>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
        </div>

        <!-- Mot de passe de l'utilisateur -->
        <div class="form-group-row" *ngIf="addUser">
            <label [for]="addUser ? 'addUserPassword':'editUserPassword'">Mot de passe</label>
            <input  type="password" 
                    [id]="addUser ? 'addUserPassword':'editUserPassword'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
<<<<<<< HEAD
                    [(ngModel)]="user.password"
                    class="form-control"
                    placeholder="Mot de passe de l'utilisateur" 
                    name="password"
                    formControlName="password"
                    [readonly]="viewUser">
=======
                    name="password"
                    placeholder="{{ viewUser ? 'undefined' : 'Mot de passe' }}"
                    autocomplete="off"
                    formControlName="password">
>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
        </div>
    </fieldset>

    <hr *ngIf="displaySectionCoordonnees">

    <!-- Section coordonnées de l'utilisateur -->
    <fieldset *ngIf="displaySectionCoordonnees">

        <!-- Téléphone de l'utilisateur -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserPhone':'editUserPhone'">Téléphone</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserPhone':'editUserPhone'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
<<<<<<< HEAD
                    [(ngModel)]="user.telephone"
                    placeholder="Telephone de l'utilisateur" 
                    name="telephone"
                    formControlName="telephone"
                    [readonly]="viewUser">
=======
                    name="telephone"
                    placeholder="{{ viewUser ? 'undefined' : 'Numéro de téléphone' }}"
                    [readonly]="viewUser"
                    formControlName="telephone">
>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
        </div>

        <!-- Fax de l'utilisateur -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserFax':'editUserFax'">Fax</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserFax':'editUserFax'"  
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
<<<<<<< HEAD
                    [(ngModel)]="user.fax"
                    placeholder="Fax de l'utilisateur" 
                    name="fax"
                    formControlName="fax"
                    [readonly]="viewUser">
=======
                    name="fax"
                    placeholder="{{ viewUser ? 'undefined' : 'Numéro de fax' }}"
                    [readonly]="viewUser"
                    formControlName="fax">
>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
        </div>
    </fieldset>

    <hr *ngIf="displaySectionEtudiant">

    <!-- Section informations Etudiant de l'utilisateur -->
    <fieldset *ngIf="displaySectionEtudiant">

        <!-- Numéro de l'étudiant -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserNumEtudiant':'editUserNumEtudiant'">Numéro</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserNumEtudiant':'editUserNumEtudiant'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
<<<<<<< HEAD
                    [(ngModel)]="user.numeroEtudiant"
                    placeholder="Numéro de l'Étudiant" 
                    name="numEtudiant"
                    formControlName="numeroEtudiant"
                    [readonly]="viewUser">
=======
                    name="numEtudiant"
                    placeholder="{{ viewUser ? 'undefined' : 'Numéro Étudiant' }}"
                    [readonly]="viewUser"
                    formControlName="numeroEtudiant">
>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
        </div>

        <!-- Promotion de l'étudiant -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserPromotion':'editUserPromotion'">Promotion</label>
            <div *ngIf="viewUser" class="form-select-plaintext">
<<<<<<< HEAD
                <span>{{ user.promotion }}</span>
            </div>
            <select *ngIf="!(viewUser)"
                    [id]="addUser ? 'addUserPromotion':'editUserPromotion'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
                    [(ngModel)]="user.promotion"
                    class="form-control" 
=======
                <span class="badge badge-secondary">{{ user?.promotion }}</span>
            </div>
            <select [id]="addUser ? 'addUserPromotion':'editUserPromotion'"
                    *ngIf="!(viewUser)"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'" 
>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
                    name="promotionEtudiant"
                    formControlName="promotion">
                <option value="" disabled selected>Selectionner la promotion</option>
                <option *ngFor="let i of promotions.reverse()" [ngValue]="i">{{ i }}</option>
            </select>
        </div>

        <!-- Parcours de l'étudiant -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserParcours':'editUserParcours'">Parcours</label>
            <div *ngIf="viewUser" class="form-select-plaintext">
                <!-- ?. car on est pas sur qu'il soit défini -->
                <span class="badge badge-secondary">{{ user?.parcours?.acronyme }}</span> 
            </div>
            <select [id]="addUser ? 'addUserParcours':'editUserParcours'"
                    *ngIf="!(viewUser)"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'" 
                    name="parcoursEtudiant"
                    formControlName="parcours">
                <option [ngValue]="null" disabled selected>Selectionner le parcours</option>
                <option *ngFor="let parcours of allParcours" [ngValue]="parcours?._id">{{ parcours.acronyme }}</option>
            </select>
        </div>
        
    </fieldset>

    <hr *ngIf="displaySectionEntreprise">

    <!-- Section représentant d'entreprise -->
    <fieldset *ngIf="displaySectionEntreprise">

        <!-- Entreprise du représentant -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserEntreprise':'editUserEntreprise'">Entreprise</label>
            <div *ngIf="viewUser" class="form-select-plaintext">
                <!-- ?. car on est pas sur qu'il soit défini -->
                <span>{{ user?.entreprise?.nom }}</span> 
            </div>
            <select [id]="addUser ? 'addUserEntreprise':'editUserEntreprise'"
                    *ngIf="!(viewUser)"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'" 
                    formControlName="entreprise">
                <option [ngValue]="null" disabled selected>Selectionner l'entreprise</option>
                <option *ngFor="let entreprise of allEntreprises" [ngValue]="entreprise?._id">{{ entreprise?.nom }}</option>
            </select>
        </div>

        <!-- Fonction du représentant -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserFonction':'editUserFonction'">Fonction</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserFonction':'editUserFonction'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
<<<<<<< HEAD
                    [(ngModel)]="user.fonction"
                    placeholder="Fonction occupée dans l'entreprise" 
                    name="fonction"
                    formControlName="fonction"
                    [readonly]="viewUser">
        </div>

        <!-- Entreprise du représentant -->
        <div class="form-group-row">
            <label [for]="addUser ? 'addUserEntreprise':'editUserEntreprise'">Nom</label>
            <input  type="text" 
                    [id]="addUser ? 'addUserEntreprise':'editUserEntreprise'"
                    [ngClass]="viewUser? 'form-control-plaintext' : 'form-control'"
                    [(ngModel)]="user.entreprise"
                    placeholder="Nom de l'entreprise" 
                    name="fonction"
                    formControlName="entreprise"
                    [readonly]="viewUser">
        </div>

        <datalist id="entreprise-list">
            <option>IBM</option>
            <option>Cap Gemini</option>
            <option>Ubisoft</option>
        </datalist>
=======
                    name="fonction"
                    placeholder="{{ viewUser ? 'undefined' : 'Fonction occupée dans l\'entreprise' }}"
                    [readonly]="viewUser"
                    formControlName="fonction">
        </div>

>>>>>>> d33c4e5ebf2355e1617a6d17f5a8cdf76d1c2679
    </fieldset>

    <!--------------------------------->
    <!-- Si Modification Utilisateur -->
    <!--------------------------------->

    <!-- On place le bouton click car sinon on ne peut pas executer la fonction car le data-dismiss apparait avant-->
    <button *ngIf="editUser" 
            type="submit" 
            (click)="onSubmitForm()" 
            data-dismiss="modal" 
            class="btn btn-primary btn-sm btn-modifier" 
            [disabled]="userForm.pristine">
        Modifier
    </button>

    <!-- Si Ajouter un Parcours -->
    <button *ngIf="addUser"
            type="submit" 
            (click)="onSubmitForm()"
            data-dismiss="modal"
            class="btn btn-primary btn-sm btn-ajouter"
            [disabled]="userForm.invalid">
        Ajouter
    </button>

</form>

<!-- Debut du Modal suppression utilisateur -->
<app-modal  class="modal fade"
            tabindex="-1"
            role="dialog"
            id="suppression-user"
            title="Suppression Utilisateur">
            <p>Confirmer la suppression de l'utilisateur.</p>
</app-modal>
